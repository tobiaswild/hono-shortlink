import { jsx as _jsx, jsxs as _jsxs } from "hono/jsx/jsx-runtime";
import { styles } from '@/styles/main.js';
import Layout from '@/templates/layout.js';
import { cx } from 'hono/css';
export default function DashboardPage(props) {
    return (_jsx(Layout, { title: "Shortlink Admin Dashboard", children: _jsxs("div", { class: styles.container, children: [_jsxs("div", { class: styles.header, children: [_jsx("h1", { class: styles.headerH1, children: "\uD83D\uDD17 Shortlink Admin Dashboard" }), _jsxs("p", { children: ["Welcome, ", props.user.username, "! Manage your shortlinks and create new ones"] }), _jsxs("div", { class: "flex gap-2", children: [_jsxs("span", { class: "text-sm text-gray-600", children: ["Logged in as: ", props.user.email] }), _jsx("form", { method: "post", action: "/admin/logout", class: styles.formReset, children: _jsx("button", { type: "submit", class: cx(styles.btn, styles.btnDanger), children: "Logout" }) })] })] }), _jsx("div", { class: styles.stats, children: _jsxs("div", { class: styles.statCard, children: [_jsx("div", { class: styles.statNumber, children: props.shortlinks.length }), _jsx("div", { class: styles.statLabel, children: "Your Shortlinks" })] }) }), _jsxs("div", { class: styles.section, children: [_jsx("h2", { class: styles.sectionH2, children: "\u2795 Create New Shortlink" }), _jsxs("form", { id: "createForm", method: "post", action: "/admin/create", children: [_jsxs("div", { class: styles.formGroup, children: [_jsx("label", { for: "url", class: styles.formGroupLabel, children: "Target URL:" }), _jsx("input", { type: "url", id: "url", name: "url", placeholder: "https://example.com", required: true, class: styles.formGroupInput })] }), _jsxs("div", { class: styles.formGroup, children: [_jsx("label", { for: "customCode", class: styles.formGroupLabel, children: "Custom Code (optional, 6 characters):" }), _jsx("input", { type: "text", id: "customCode", name: "customCode", placeholder: "Leave empty for auto-generated", maxlength: 6, pattern: "[A-Za-z0-9]{6}", class: styles.formGroupInput })] }), _jsx("button", { type: "submit", class: cx(styles.btn, styles.btnPrimary), children: "Create Shortlink" })] }), _jsx("div", { id: "createResult" })] }), _jsxs("div", { class: styles.section, children: [_jsx("h2", { class: styles.sectionH2, children: "\uD83D\uDCCB Your Shortlinks" }), _jsxs("table", { class: styles.table, children: [_jsx("thead", { children: _jsxs("tr", { children: [_jsx("th", { class: styles.tableTh, children: "ID" }), _jsx("th", { class: styles.tableTh, children: "Code" }), _jsx("th", { class: styles.tableTh, children: "Target URL" }), _jsx("th", { class: styles.tableTh, children: "Short URL" }), _jsx("th", { class: styles.tableTh, children: "Actions" })] }) }), _jsx("tbody", { children: props.shortlinks.map((link) => (_jsxs("tr", { children: [_jsx("td", { class: styles.tableTd, children: link.id }), _jsx("td", { class: styles.tableTd, children: _jsx("span", { class: styles.shortlinkCode, children: link.code }) }), _jsx("td", { class: cx(styles.tableTd, styles.shortlinkUrl), title: link.url, children: link.url }), _jsxs("td", { class: cx(styles.tableTd, styles.shortlinkUrl), title: `${props.baseUrl}/${link.code}`, children: [props.baseUrl, "/", link.code] }), _jsxs("td", { class: cx(styles.tableTd, styles.buttons), children: [_jsx("a", { class: cx(styles.linkReset, styles.btn, styles.openBtn), href: `${props.baseUrl}/${link.code}`, target: '_blank', children: "Open" }), _jsx("form", { method: "post", action: `/admin/delete/${link.code}`, class: styles.formReset, children: _jsx("button", { type: "submit", class: cx(styles.btn, styles.deleteBtn), children: "Delete" }) })] })] }))) })] })] })] }) }));
}
